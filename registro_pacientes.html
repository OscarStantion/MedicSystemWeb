<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/estiloregistropacientes.css">
    <title>MEDICSYSTEMWEB</title>
</head>

<body>
    <header>
        <nav>
            <h1><img src="./imagenes/logo.png" class="imagen1" alt="Logo"></h1>
            <ul class="menu">
                <li><a href="inicio.html">Inicio</a></li>
                <li class="dropdown">
                    <a href="#">Registro</a>
                    <ul class="submenu">
                        <li><a href="registro_pacientes.html">Registro de Pacientes</a></li>
                        <li><a href="RegistroMuestras.html">Registro de Muestras</a></li>
                        <li><a href="registro_examenes.html">Registro de Exámenes</a></li>
                        <li><a href="registro_sangre.html">Registro de Sangre</a></li>
                    </ul>
                </li>
                <li><a href="examenes.html">Exámenes</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
            </ul>
            <div class="auth-buttons">
                <a href="login.html" class="btn-login">Iniciar sesión</a>
                <a href="Registro.html" class="btn-register">Registrarse</a>
            </div>
        </nav>
    </header>
    
    <div class="container">
        <h1>Registro de Pacientes</h1>
        <p>En esta ventanilla se registrarán los datos pertinentes al paciente del laboratorio clínico.</p>
    </div>

    <div>
        <form class="form" onsubmit="registrarPaciente(event)">
            <h2>Registro de Muestras Sanguíneas</h2>
            <div class="form-group">
                <input type="text" id="nombre" name="nombre" placeholder="Nombre" required>
                <input type="text" id="apellidos" name="apellidos" placeholder="Apellidos" required>
            </div>
            <div class="form-group">
                <input type="text" id="dni" name="dni" placeholder="DNI / Carnet de extranjería / Pasaporte" required>
                <input type="number" id="edad" name="edad" placeholder="Edad" required>
            </div>
            <div class="form-group">
                <select id="sexo" name="sexo" required>
                    <option value="" disabled selected>Selecciona el sexo</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                </select>
            </div>
            <button type="submit" class="btn-submit">Registrarse</button>
        </form>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Registro Exitoso</h2>
            <p id="modal-message"></p>
            <button class="btn-confirm" onclick="confirmRegistration()">Aceptar</button>
        </div>
    </div>

    <script>
        function registrarPaciente(event) {
            // Previene que el formulario se envíe realmente
            event.preventDefault();
            
            // Aquí puedes realizar cualquier validación adicional o lógica que necesites
            const nombre = document.getElementById('nombre').value;
            const apellidos = document.getElementById('apellidos').value;
            const dni = document.getElementById('dni').value;
            const edad = document.getElementById('edad').value;
            const sexo = document.getElementById('sexo').value;

            // Mostrar modal con mensaje de registro exitoso
            if (nombre && apellidos && dni && edad && sexo) {
                document.getElementById('modal-message').innerText = `El paciente ${nombre} ${apellidos} ha sido registrado exitosamente.`;
                document.getElementById('modal').style.display = "block";
            } else {
                alert("Por favor, complete todos los campos antes de registrar.");
            }
        }

        function closeModal() {
            document.getElementById('modal').style.display = "none";
        }

        function confirmRegistration() {
            closeModal();
            location.reload(); // Recarga la página después de cerrar el modal
        }

        // Cerrar el modal si se hace clic fuera del contenido
        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>

</body>
</html>